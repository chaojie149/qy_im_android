package com.tongxin.caihong.ui.tool;import android.content.Context;import android.content.res.ColorStateList;import android.graphics.drawable.Drawable;import android.graphics.drawable.GradientDrawable;import android.view.View;import android.widget.CheckBox;import android.widget.ImageView;import android.widget.ProgressBar;import android.widget.TextView;import androidx.annotation.DrawableRes;import androidx.core.graphics.drawable.DrawableCompat;import com.tongxin.caihong.util.DisplayUtil;import com.tongxin.caihong.util.SkinUtils;import com.tongxin.caihong.R;public class ButtonColorChange {    public static void colorChange(Context context, View view) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        Drawable drawable = context.getResources().getDrawable(R.drawable.bg_btn_grey);        drawable = DrawableCompat.wrap(drawable);        DrawableCompat.setTintList(drawable, skin.getButtonColorState());        view.setBackground(drawable);    }    public static void colorChange(Context context, View view, int drawableResource) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        Drawable drawable = context.getResources().getDrawable(drawableResource);        drawable = DrawableCompat.wrap(drawable);        DrawableCompat.setTintList(drawable, skin.getButtonColorState());        view.setBackground(drawable);    }    public static void colorChangeMore(Context context, View view) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        Drawable drawable = context.getResources().getDrawable(R.drawable.bg_btn_grey_more);        drawable = DrawableCompat.wrap(drawable);        DrawableCompat.setTintList(drawable, skin.getButtonColorState());        view.setBackground(drawable);    }    public static void rechargeChange(Context context, View view, int drawable1) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        Drawable drawable = context.getResources().getDrawable(drawable1);        drawable = DrawableCompat.wrap(drawable);        DrawableCompat.setTintList(drawable, skin.getButtonColorState());        view.setBackground(drawable);    }    public static void textChange(Context context, TextView view) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        view.setTextColor(skin.getAccentColor());    }    public static void textChange(TextView view) {        Context context = view.getContext();        SkinUtils.Skin skin = SkinUtils.getSkin(context);        view.setTextColor(skin.getAccentColor());    }    public static void imageChange(Context context, ImageView view) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        view.setImageTintList(skin.getButtonColorState());    }    public static void checkChange(Context context, CheckBox view) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        ColorStateList colorStateList = skin.getButtonColorState();        Drawable drawable = context.getResources().getDrawable(R.mipmap.choice_icon);        drawable = DrawableCompat.wrap(drawable);        DrawableCompat.setTintList(drawable, colorStateList);        view.setButtonDrawable(drawable);    }    public static void tintCheckBox(CheckBox checkBox) {        SkinUtils.Skin skin = SkinUtils.getSkin(checkBox.getContext());        checkBox.setButtonTintList(skin.getCheckBoxColorState());    }    public static void tintBackground(View view) {        SkinUtils.Skin skin = SkinUtils.getSkin(view.getContext());        view.setBackgroundTintList(skin.getButtonColorState());    }    public static void tintImageView(ImageView imageView) {        SkinUtils.Skin skin = SkinUtils.getSkin(imageView.getContext());        imageView.setImageTintList(ColorStateList.valueOf(skin.getAccentColor()));    }    public static void companyDrawable(TextView t) {        Drawable drawableLeft = t.getCompoundDrawables()[0];        if (drawableLeft == null) {            return;        }        Drawable drawable = DrawableCompat.wrap(drawableLeft);        int[][] states = new int[][]{                new int[]{-android.R.attr.state_enabled},                new int[]{},        };        int[] colors = new int[]{                0xffb1abab,                0xffffffff,        };        DrawableCompat.setTintList(drawable, new ColorStateList(states, colors));        t.setCompoundDrawables(drawable, null, null, null);    }    public static void textStartDrawableTint(Context context, TextView t) {        Drawable drawable = DrawableCompat.wrap(t.getCompoundDrawablesRelative()[0]);        SkinUtils.Skin skin = SkinUtils.getSkin(context);        DrawableCompat.setTintList(drawable, skin.getButtonColorState());        t.setCompoundDrawables(drawable, null, null, null);    }    public static void lineBackgroundTint(Context ctx, View view, float radius) {        SkinUtils.Skin skin = SkinUtils.getSkin(ctx);        GradientDrawable bg = new GradientDrawable();        bg.setStroke(DisplayUtil.dip2px(ctx, 1), skin.getAccentColor());        bg.setCornerRadius(DisplayUtil.dip2px(ctx, radius));        view.setBackground(bg);    }    public static void setAndTintBackground(Context ctx, View view, @DrawableRes int id) {        SkinUtils.Skin skin = SkinUtils.getSkin(ctx);        Drawable bg = ctx.getDrawable(id);        DrawableCompat.setTintList(bg, ColorStateList.valueOf(skin.getAccentColor()));        view.setBackground(bg);    }    public static void rightButton(Context context, TextView view) {        SkinUtils.Skin skin = SkinUtils.getSkin(context);        view.setBackgroundResource(R.drawable.stadium_shape_white);        view.setBackgroundTintList(skin.getRightButtonColorState());        view.setTextColor(getRightTextColorState());    }    /**     * 部分设备，比如老vivo安卓5.0的，直接view.setBackgroundTintList可能无效，也可能有效，原因不明，     */    public static void tintBackground(View view, ColorStateList colorStateList) {        Drawable drawable = view.getBackground();        drawable = DrawableCompat.wrap(drawable);        DrawableCompat.setTintList(drawable, colorStateList);        view.setBackground(drawable);    }    public static void tintProgressBar(ProgressBar progressBar) {        SkinUtils.Skin skin = SkinUtils.getSkin(progressBar.getContext());        progressBar.setProgressTintList(ColorStateList.valueOf(skin.getAccentColor()));    }    public static ColorStateList getRightTextColorState() {        int[][] states = new int[][]{                new int[]{-android.R.attr.state_enabled},                new int[]{android.R.attr.state_pressed},                new int[]{android.R.attr.state_focused},                new int[]{},        };        int[] colors = new int[]{                0xffBBBBBB,                0xffFFFFFF,                0xffFFFFFF,                0xffFFFFFF,        };        return new ColorStateList(states, colors);    }}